<!DOCTYPE html>
<html lang="ja">
  <head>
    <link rel="stylesheet" href="style.css" >

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.bundle.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>


  </head>


  <head>
    <meta charset="utf-8">
    　<title>グラフ</title> 
    </head>
    <body>
      <h1></h1>
      <canvas id="myLineChart"></canvas>






    <script>


    var co2 = 200;
    //----------------
    SpeechRecognition = webkitSpeechRecognition || SpeechRecognition;
      const recognition = new SpeechRecognition();
      recognition.continuous = true; // これこれ
      recognition.start();

  //    function foo() {
      recognition.onresult = function (event) {
        var results = event.results;
        for (var i = event.resultIndex; i < results.length; i++) {
          chara = String(results[i][0].transcript);
          console.log(chara);
          if (chara == "ホーム画面") {

          // 発言を作成
          const uttr = new SpeechSynthesisUtterance("ホーム画面に戻ります")

          // 言語 (日本語:ja-JP, アメリカ英語:en-US, イギリス英語:en-GB, 中国語:zh-CN, 韓国語:ko-KR)
          uttr.lang = "ja-JP"

          // 速度 0.1-10 初期値:1 (倍速なら2, 半分の倍速なら0.5)
          uttr.rate = 1.0

          // 高さ 0-2 初期値:1
          uttr.pitch = 1.0
          // 発言を再生 (発言キューに発言を追加)
          speechSynthesis.speak(uttr)






            window.location.href = 'index.html';
          }

          if (chara == "空気入れ替え") {
          // 発言を作成
          const uttr = new SpeechSynthesisUtterance("エアコンを稼働させて換気します")

          // 言語 (日本語:ja-JP, アメリカ英語:en-US, イギリス英語:en-GB, 中国語:zh-CN, 韓国語:ko-KR)
          uttr.lang = "ja-JP"

          // 速度 0.1-10 初期値:1 (倍速なら2, 半分の倍速なら0.5)
          uttr.rate = 1.0

          // 高さ 0-2 初期値:1
          uttr.pitch = 1.0
          // 発言を再生 (発言キューに発言を追加)
          speechSynthesis.speak(uttr)
          }
        }

      };



      co2++;
      console.log(co2);







    var ctx = document.getElementById("myLineChart");
    var myLineChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: ['11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00', '18:00'],
        datasets: [
          {
            label: '最高 ',
            data: [500, 550, 410, 350, 450, 1100, 1150, 1300],
            borderColor: "rgba(255,0,0,1)",
            backgroundColor: "rgba(0,0,0,0)"
          },
          {
            label: '最低 ',
            data: [250, 370, 170, 150, 260, 270, 550, 810],
            borderColor: "rgba(0,0,255,1)",
            backgroundColor: "rgba(0,0,0,0)"
          }
        ],
      },
      options: {
        title: {
          display: true,
          text: '3月28日 CO2 濃度(ppm)'
        },
        scales: {
          yAxes: [{
            ticks: {
              suggestedMax: 40,
              suggestedMin: 0,
              stepSize: 100,
              callback: function(value, index, values){
                return  value +  'ppm'
              }
            }
          }]
        },
      }
    });


/*
        flg=true;
      function sampleBlink(){
      if(flg){
      document.getElementById("sample-blink").style.visibility="visible";
      }else{
      document.getElementById("sample-blink").style.visibility="hidden";
      }
      flg=!flg;
      setTimeout("sampleBlink()",500);
      }
      sampleBlink();

*/




</script>

  </body>
</html>
